

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Refining preexisting meshes &mdash; triangle 2012.07.04 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2012.07.04',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="triangle 2012.07.04 documentation" href="index.html" />
    <link rel="next" title="Convex hulls and mesh boundaries" href="convex.html" />
    <link rel="prev" title="Quality meshing: angle and size constraints" href="quality.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="convex.html" title="Convex hulls and mesh boundaries"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="quality.html" title="Quality meshing: angle and size constraints"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">triangle 2012.07.04 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="refining-preexisting-meshes">
<h1>Refining preexisting meshes<a class="headerlink" href="#refining-preexisting-meshes" title="Permalink to this headline">Â¶</a></h1>
<p>The -r switch causes a mesh (.node and .ele files) to be read and refined. If
the -p switch is also used, a .poly file is read and used to specify edges that
are constrained and cannot be eliminated (although they can be divided into
smaller edges) by the refinement process.</p>
<p>When you refine a mesh, you generally want to impose tighter quality
constraints. One way to accomplish this is to use -q with a larger angle, or -a
followed by a smaller area than you used to generate the mesh you are refining.
In order to simplify the maintenance of a sequence of successively refined
meshes, all files written by Triangle have iteration numbers in their
filenames; the iteration number of each mesh is one greater than that of the
mesh it was created from. In the example below, the input mesh (which you saw
created on the Delaunay triangulation page) has iteration number one, and
consists of the files box.1.node and box.1.ele.</p>
<p>(<a class="reference external" href=".//refine-1.py">Source code</a>, <a class="reference external" href=".//refine-1.png">png</a>, <a class="reference external" href=".//refine-1.hires.png">hires.png</a>, <a class="reference external" href=".//refine-1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/refine-1.png" src="_images/refine-1.png" />
</div>
<p>This mesh is refined with an area constraint of 0.2, creating a new mesh with
iteration number two. Repeating the process with smaller area constraints,
iterations three and four are also created.</p>
<div class="highlight-python"><pre>triangle -rpa0.2 box.1
triangle -rpa.05 box.2
triangle -rpa.0125 box.3</pre>
</div>
<p>(<a class="reference external" href="./plot/refine.py">Source code</a>, <a class="reference external" href="./plot/refine.png">png</a>, <a class="reference external" href="./plot/refine.hires.png">hires.png</a>, <a class="reference external" href="./plot/refine.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/refine.png" src="_images/refine.png" />
</div>
<p>Above, the -p switch is used to retain segment information. At each iteration, a
.poly file is read and used to specify edges that are constrained and cannot be
eliminated (although they can be divided into smaller edges) by the refinement
process. In this example, it didn&#8217;t make any difference because the mesh has no
interior boundaries; however, in a mesh with interior boundaries, the -p switch
is necessary to maintain these boundaries during refinement; hence, you should
make a habit of using it whenever refining a mesh that was originally formed
from a PSLG. If you forget, the information about interior segments will be
lost for all future iterations.</p>
<p>You can perform finely controlled refinement by creating an .area file, which
specifies a maximum area for each triangle, and use the -a switch (without a
number following). Each triangle&#8217;s area constraint is applied to that triangle.
The constraints in an .area file are typically based on a posteriori error
estimates resulting from a finite element simulation on that mesh. In the
example file box.1.area, one triangle has been constrained to have area no
greater than 0.02; all other triangles are left unconstrained (by assigning
them negative areas).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">triangulate</span><span class="p">(</span><span class="n">bbox1</span><span class="p">,</span> <span class="s">&#39;rpa&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference external" href="./plot/refine1.py">Source code</a>, <a class="reference external" href="./plot/refine1.png">png</a>, <a class="reference external" href="./plot/refine1.hires.png">hires.png</a>, <a class="reference external" href="./plot/refine1.pdf">pdf</a>)</p>
<div class="figure">
<img alt="_images/refine1.png" src="_images/refine1.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="quality.html"
                        title="previous chapter">Quality meshing: angle and size constraints</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="convex.html"
                        title="next chapter">Convex hulls and mesh boundaries</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/refine.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="convex.html" title="Convex hulls and mesh boundaries"
             >next</a> |</li>
        <li class="right" >
          <a href="quality.html" title="Quality meshing: angle and size constraints"
             >previous</a> |</li>
        <li><a href="index.html">triangle 2012.07.04 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Triangle Authors, Dzhelil Rufat.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>